@using Microsoft.FluentUI.AspNetCore.Components.DesignTokens
@inherits LayoutComponentBase
@inject BaseLayerLuminance BaseLayerLuminance
@inject AccentBaseColor AccentBaseColor

<FluentLayout Class="overflow-block">
    

    <FluentHeader Class="chat-header">
        Blazor Chat
        <FluentSpacer />

        
        <FluentAnchor Href="/swagger" Target="_blank">API</FluentAnchor>
    </FluentHeader>

    @Body
</FluentLayout>

<FluentToastProvider />
<FluentDialogProvider />
<FluentTooltipProvider />
<FluentMessageBarProvider />

@code {
    private bool darkMode = false;
    public static bool Expanded { get; set; } = true;
    protected override async Task OnAfterRenderAsync(bool firstRender)
    {
        if (firstRender)
        {

            if (darkMode == true)
            {
                await BaseLayerLuminance.WithDefault(0f);
                await AccentBaseColor.WithDefault(new Swatch(255, 105, 180));
            }
            else
            {
                await BaseLayerLuminance.WithDefault(1f);
                await AccentBaseColor.WithDefault(new Swatch(255, 105, 180));

            }

            StateHasChanged();
        }
    }



}
